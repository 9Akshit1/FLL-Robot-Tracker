import runloop
import motor
from hub import port

# Auto-generated SPIKE replay script

timeline = [(52, -1, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, -1, -1, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 1, -1, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, -1, 0), (51, 0, 0, 0), (51, 0, -1, 0), (51, 0, 1, 0), (51, 0, 1, 0), (51, 0, 0, 0), (51, -1, 0, 0), (51, 0, 0, 0), (51, 1, 0, 0), (51, 0, 1, 0), (51, 0, 1, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, -1, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, -1, 1, 0), (51, 0, 0, 0), (51, -10, 0, 0), (52, -22, 1, 0), (50, -28, 1, 0), (51, -28, 0, 0), (51, -22, 0, 0), (51, -18, 0, 0), (51, -15, 12, 0), (51, -12, 18, 0), (51, -15, 22, 0), (51, -20, 18, 0), (51, -25, 15, 0), (51, -28, 16, 0), (51, -23, 14, 0), (51, -18, 13, 0), (51, -15, 12, 0), (51, -12, 12, 0), (52, -12, 11, 0), (50, -10, 11, 0), (51, -10, 9, 0), (51, -9, 8, 0), (51, -9, 8, 0), (51, -11, 10, 0), (51, -9, 9, 0), (51, -12, 10, 0), (51, -13, 11, 0), (51, -12, 12, 0), (51, -15, 15, 0), (51, -16, 15, 0), (51, -16, 16, 0), (51, -14, 16, 0), (51, -15, 16, 0), (52, -14, 19, 0), (50, -10, 18, 0), (51, -9, 14, 0), (51, -9, 15, 0), (51, -9, 12, 0), (52, -8, 13, 0), (50, -9, 10, 0), (51, -8, 11, 0), (52, -9, 11, 0), (50, -7, 10, 0), (51, -8, 12, 0), (51, -7, 11, 0), (51, -5, 12, 0), (51, -6, 11, 0), (51, -6, 12, 0), (51, -7, 14, 0), (51, -6, 12, 0), (51, -7, 10, 0), (51, -6, 10, 0), (51, -7, 9, 0), (51, -6, 9, 0), (51, -5, 8, 0), (51, -4, 10, 0), (51, -4, 10, 0), (51, -3, 10, 0), (52, -4, 14, 0), (50, -3, 10, 0), (51, -5, 11, 0), (51, -5, 9, 0), (51, -5, 10, 0), (51, -5, 10, 0), (51, -5, 9, 0), (51, -6, 10, 0), (51, -5, 10, 0), (51, -6, 9, 0), (51, -7, 11, 0), (51, -8, 10, 0), (51, -6, 11, 0), (51, -7, 11, 0), (51, -6, 14, 0), (51, -6, 14, 0), (51, -6, 14, 0), (51, -6, 14, 0), (51, -8, 13, 0), (51, -7, 13, 0), (51, -9, 14, 0), (51, -8, 12, 0), (51, -6, 13, 0), (51, -7, 13, 0), (51, -6, 12, 0), (52, -6, 10, 0), (50, -3, 9, 0), (51, -2, 9, 0), (51, -3, 10, 0), (51, -3, 11, 0), (51, -4, 14, 0), (51, -4, 14, 0), (51, -5, 12, 0), (51, -4, 13, 0), (51, -4, 12, 0), (51, -3, 14, 0), (51, -4, 14, 0), (51, -2, 14, 0), (51, -5, 14, 0), (51, -4, 13, 0), (51, -7, 12, 0), (51, -6, 10, 0), (52, -5, 10, 0), (50, -6, 11, 0), (51, -8, 9, 0), (51, -11, 11, 0), (51, -11, 10, 0), (51, -9, 10, 0), (51, -11, 9, 0), (51, -8, 8, 0), (51, -6, 4, 0), (51, 0, 1, 0), (51, 0, -1, 0), (51, 0, -1, 0), (51, 1, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0), (51, 0, 0, 0)]

async def main():

    for dt, da, db, dc in timeline:

        # wait before next move
        if dt > 0:
            await runloop.sleep_ms(dt)

        # run motors (sequential for timing accuracy)
        if da != 0:
            await motor.run_for_degrees(port.A, da, 500)

        if db != 0:
            await motor.run_for_degrees(port.B, db, 500)

        if dc != 0:
            await motor.run_for_degrees(port.C, dc, 500)

    print("Replay complete")


runloop.run(main())
